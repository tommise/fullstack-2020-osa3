{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Persons","id","name","number","removeName","type","value","onClick","Filter","filterValue","handleFilterChange","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","Notification","message","startsWith","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personService","initialPersons","event","preventDefault","personId","target","window","confirm","filter","person","setTimeout","catch","error","filteredPersons","toLowerCase","includes","personObject","existingPerson","find","changedPerson","map","returnedPerson","concat","p","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.777fb739.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({ id, name, number, removeName }) => {\n\n  return (\n    <li>\n      {name} {number}\n      <button type='submit' value={name} onClick={removeName} id={id}>delete</button>\n    </li>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({ filterValue, handleFilterChange }) => {\n  return (\n    <div>\n        filter shown with <input value={filterValue} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\n    return (\n        <form onSubmit={addName}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    if (message.startsWith('Error:')) {\n        return (\n            <div className=\"errorMessage\">\n                {message}\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"successMessage\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }\n","\nimport React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const existingPerson = persons.find(person => person.name === newName)\n\n    if (existingPerson) {\n      const confirmed = window.confirm(`Person ${existingPerson.name} already exists. Do you want to update the phonenumber?`)\n\n      if (confirmed) {\n        personService\n          .update(existingPerson.id, { ...existingPerson, number: newNumber })\n          .then(changedPerson => {\n            setPersons(persons.map(person => person.id !== existingPerson.id ? person : changedPerson))\n            setNewName('')\n            setNewNumber('')\n\n            setNotificationMessage(`${existingPerson.name}'s number has been modified.`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n\n          .catch(error => {\n            setNotificationMessage(`Error: person ${existingPerson.name} has been already modified.`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n            setPersons(persons.filter(person => person.id !== existingPerson.id))\n          })\n      }\n\n    } else {\n\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n\n          setNotificationMessage(`${returnedPerson.name} added.`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setNewName('')\n          setNewNumber('')\n          setNotificationMessage(`Error: ${error.response.data.error}`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n\n        })\n      }\n  }\n\n  const removeName = (event) => {\n    event.preventDefault()\n\n    const personId = event.target.id\n    const name = event.target.value\n\n    const confirmed = window.confirm(`Do you want to remove ${name}?`)\n\n    if (confirmed) {\n      setPersons(persons.filter(person => person.id !== personId))\n      personService\n        .remove(personId)\n        .then(() => {\n          setNotificationMessage(`${name} has been removed.`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n\n        .catch(error => {\n          setNotificationMessage(`Error: person ${name} has already been removed.`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n          setPersons(persons.filter(person => person.id !== personId))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value.toLowerCase())\n  }\n\n  const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filterValue))\n\n  const rows = () =>\n    filteredPersons.map(p => <Persons key={p.name} id={p.id} name={p.name} number={p.number} removeName={removeName} />)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Filter filterValue={filterValue} handleFilterChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm addName={addName} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n\n      <h3>Numbers</h3>\n\n      {rows()}\n    </div>\n  )\n}\n\nexport default App\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css'\n\nReactDOM.render(<App />,document.getElementById(\"root\"));"],"sourceRoot":""}